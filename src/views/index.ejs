<%- include("includes/head"); %> <%- include("includes/nav"); %>

<section class="container align-items-center mt-8">
  <!-- TITLE -->
  <div>
    <p class="text-center text-2xl font-bold text-gray-700 py-6">Seus contatos estão abaixo.</p>
  </div>

  <%- include("includes/messages") %>

  <!-- TABLE -->
  <% if (user) { %>
    <div class="mt-6 shadow rounded-md">
      <% if (contacts.length > 0) { %>
      <table class="table-fixed my-3 w-full divide-y divide-gray">
        <thead class="bg-white">
          <tr>
            <th class="px-6 py-3 text-left text-lg font-bold text-gray-700 uppercase tracking-wider">Nome</th>
            <th class="px-6 py-3 text-left text-lg font-bold text-gray-700 uppercase tracking-wider">Número</th>
            <th class="px-6 py-3 text-left text-lg font-bold text-gray-700 uppercase tracking-wider">E-mail</th>
          </tr>
          <tbody class="bg-gray-100 divide-y divide-gray-200">
            <% contacts.forEach(contact => { %>            
                <tr>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"><%= contact.name %></td>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"><%= contact.phoneNumber %></td>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"><%= contact.email %></td>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"><a href="/contact/<%= contact._id %>" class="text-blue-600 hover:text-blue-900">Editar</a></td>
                  <td class="px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"><a href="/contact/delete/<%= contact._id %>" class="text-red-600 hover:text-red-900">Excluir</a></td>
                </tr>            
            <% }) %>          
          </tbody>
        </thead>
      </table>
      <% } else { %>
        <p class="text-center p-4">Nenhum contato cadastrado.</p>
      <% } %>
    </div>
  <% } else { %>
    <p class="mt-6 shadow rounded-md text-center p-4">Você precisa entrar para ver seus contatos.</p>
  <% } %>
  
</section>

<%- include("includes/footer"); %>
